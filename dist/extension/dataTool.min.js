
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],t):t(e.dataTool={},e.echarts)}(this,function(e,t){"use strict";var i=Array.prototype.map;function n(e,t,r){if(e&&t){if(e.map&&e.map===i)return e.map(t,r);for(var a=[],o=0,n=e.length;o<n;o++)a.push(t.call(r,e[o],o,e));return a}}function p(e,t){return e.getAttribute(t)}function c(e,t){for(var r=e.firstChild;r;){if(1==r.nodeType&&r.nodeName.toLowerCase()==t.toLowerCase())return r;r=r.nextSibling}return null}function d(e,t){for(var r=e.firstChild,a=[];r;)r.nodeName.toLowerCase()==t.toLowerCase()&&a.push(r),r=r.nextSibling;return a}var r=(Object.freeze||Object)({parse:function(e){if(!(t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e)||t.getElementsByTagName("parsererror").length)return null;if(!(e=c(t,"gexf")))return null;for(var f,t=c(e,"graph"),r=(e=c(t,"attributes"))?n(d(e,"attribute"),function(e){return{id:p(e,"id"),title:p(e,"title"),type:p(e,"type")}}):[],a={},o=0;o<r.length;o++)a[r[o].id]=r[o];return{nodes:(e=c(t,"nodes"),f=a,e?n(d(e,"node"),function(e){var t={id:p(e,"id"),name:p(e,"label"),itemStyle:{normal:{}}},r=c(e,"viz:size"),a=c(e,"viz:position"),o=c(e,"viz:color"),e=c(e,"attvalues");if(r&&(t.symbolSize=parseFloat(p(r,"value"))),a&&(t.x=parseFloat(p(a,"x")),t.y=parseFloat(p(a,"y"))),o&&(t.itemStyle.normal.color="rgb("+[0|p(o,"r"),0|p(o,"g"),0|p(o,"b")].join(",")+")"),e){var n=d(e,"attvalue");t.attributes={};for(var i=0;i<n.length;i++){var l=n[i],s=p(l,"for"),u=p(l,"value"),l=f[s];if(l){switch(l.type){case"integer":case"long":u=parseInt(u,10);break;case"float":case"double":u=parseFloat(u);break;case"boolean":u="true"==u.toLowerCase()}t.attributes[s]=u}}}return t}):[]),links:(t=c(t,"edges"))?n(d(t,"edge"),function(e){var t={id:p(e,"id"),name:p(e,"label"),source:p(e,"source"),target:p(e,"target"),lineStyle:{normal:{}}},r=t.lineStyle.normal,a=c(e,"viz:thickness"),e=c(e,"viz:color");return a&&(r.width=parseFloat(a.getAttribute("value"))),e&&(r.color="rgb("+[0|p(e,"r"),0|p(e,"g"),0|p(e,"b")].join(",")+")"),t}):[]}}});function y(e,t){var r=(e.length-1)*t+1,a=Math.floor(r),t=+e[a-1],r=r-a;return r?t+r*(e[a]-t):t}function a(e,t){for(var r=[],a=[],o=[],n=(t=t||[]).boundIQR,i="none"===n||0===n,l=0;l<e.length;l++){o.push(l+"");var s=((v=e[l].slice()).sort(function(e,t){return e-t}),v),u=y(s,.25),f=y(s,.5),p=y(s,.75),c=s[0],d=s[s.length-1],v=(null==n?1.5:n)*(p-u),g=i?c:Math.max(c,u-v),h=i?d:Math.min(d,p+v);r.push([g,u,f,p,h]);for(var b=0;b<s.length;b++){var m=s[b];(m<g||h<m)&&(m=[l,m],"vertical"===t.layout&&m.reverse(),a.push(m))}}return{boxData:r,outliers:a,axisData:o}}var o="1.0.0";t.dataTool&&(t.dataTool.version=o,t.dataTool.gexf=r,t.dataTool.prepareBoxplotData=a),e.version=o,e.gexf=r,e.prepareBoxplotData=a});
